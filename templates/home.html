{% extends "base.html" %}

{% block content %}
<section class="hero">
    <div class="hero-content" style="background-image: url('{{ url_for('static', filename='images/background.jpg') }}');">
        <h2>Perfect Your Workout Form with AI</h2>
        <p>Upload your workout image and get instant feedback on your form to prevent injuries and maximize results.</p>
        <a href="#analyzer" class="cta-button">Try It Now</a>
    </div>
</section>

<section class="features">
    <div class="feature">
        <h3>Real-time Feedback</h3>
        <p>Get immediate analysis of your exercise form with detailed suggestions for improvement.</p>
    </div>
    <div class="feature">
        <h3>Multiple Exercises</h3>
        <p>Supports squats, push-ups, planks, lunges, deadlifts, and general posture analysis.</p>
    </div>
    <div class="feature">
        <h3>Progress Tracking</h3>
        <p>Save your analysis history to track your improvement over time.</p>
    </div>
</section>

<section id="analyzer" class="analyzer-section">
    <div class="upload-section">
        <div class="upload-container" id="upload-container">
            <div class="upload-area" id="upload-area">
                <div class="upload-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                </div>
                <p>Drag & drop your workout image here</p>
                <p>or</p>
                <label for="file-upload" class="custom-file-upload">
                    Choose File
                </label>
                <input id="file-upload" type="file" accept="image/*">
            </div>
        </div>
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Analyzing your form...</p>
        </div>
    </div>

    <div class="results-section" id="results-section">
        <div class="results-container">
            <div class="image-container">
                <img id="result-image" src="" alt="Analyzed workout pose">
            </div>
            <div class="analysis-container">
                <div class="chatbot-header">
                    <div class="chatbot-avatar">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                            <line x1="9" y1="9" x2="9.01" y2="9"></line>
                            <line x1="15" y1="9" x2="15.01" y2="9"></line>
                        </svg>
                    </div>
                    <h3>Workout Buddy</h3>
                </div>
                <div class="chatbot-messages" id="chatbot-messages">
                    <div class="message bot-message">
                        <p>Hi there! Upload a workout image and I'll analyze your form.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Add Chatbot Widget -->
<div class="chatbot-widget" id="chatbot-widget">
    <div class="chatbot-toggle" id="chatbot-toggle">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
            <line x1="9" y1="9" x2="9.01" y2="9"></line>
            <line x1="15" y1="9" x2="15.01" y2="9"></line>
        </svg>
    </div>
    <div class="chatbot-card" id="chatbot-card">
        <div class="chatbot-card-header">
            <h3>Workout Buddy Assistant</h3>
            <button class="close-chatbot">&times;</button>
        </div>
        <div class="chatbot-card-body" id="chatbot-card-body">
            <div class="message bot-message">
                <p>Hi there! I'm your Workout Buddy Assistant. I can help analyze your exercise form. Would you like to upload a workout image?</p>
            </div>
        </div>
        <div class="chatbot-card-footer">
            <input type="text" class="chatbot-input" id="chatbot-input" placeholder="Type your message...">
            <button class="chatbot-send" id="chatbot-send">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </div>
    </div>
</div>
{% endblock %}
